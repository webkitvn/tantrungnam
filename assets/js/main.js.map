{
  "version": 3,
  "sources": ["../../src/js/main.js"],
  "sourcesContent": ["const headerHeight = document.querySelector('#masthead').offsetHeight;\ndocument.querySelector('html').style.setProperty('--header-height', headerHeight + 'px');\n\n\n/* ==========================================================================\n   CWP Section Navigation\n   Desktop-only navigation for page sections with improved error handling\n   ========================================================================== */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    /* Configuration */\n    const cwpNavConfig = {\n        mobileBreakpoint: 768,\n        scrollOffset: '30%',\n        navContainer: '.page-nav',\n        sectionSelector: '.page-section',\n        activeClass: 'active'\n    };\n\n    /* Mobile Detection - Disable navigation on mobile */\n    const cwpIsMobile = () => {\n        return window.innerWidth <= cwpNavConfig.mobileBreakpoint;\n    };\n\n    /* Human-readable label generation */\n    const cwpGenerateLabel = (sectionID) => {\n        if (!sectionID) return '';\n        \n        /* Convert kebab-case to readable format */\n        return sectionID\n            .replace(/-/g, ' ')\n            .replace(/\\b\\w/g, (l) => l.toUpperCase())\n            .trim();\n    };\n\n    /* Debounce function for performance */\n    const cwpDebounce = (func, wait) => {\n        let timeout;\n        return function executedFunction(...args) {\n            const later = () => {\n                timeout = null;\n                func.apply(this, args);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    };\n\n    /* Validate dependencies */\n    const cwpValidateDependencies = () => {\n        /* Check if Waypoints library is loaded */\n        if (typeof window.Waypoint === 'undefined') {\n            console.warn('CWP Navigation: Waypoints library not found. Navigation will not work.');\n            return false;\n        }\n        \n        /* Check if navigation container exists */\n        if (!document.querySelector(cwpNavConfig.navContainer)) {\n            console.warn('CWP Navigation: Navigation container not found.');\n            return false;\n        }\n        \n        /* Check if sections exist */\n        if (document.querySelectorAll(cwpNavConfig.sectionSelector).length === 0) {\n            console.warn('CWP Navigation: No sections found.');\n            return false;\n        }\n        \n        return true;\n    };\n\n    /* Initialize navigation */\n    const cwpInitNavigation = () => {\n        /* Mobile check - disable on mobile */\n        if (cwpIsMobile()) {\n            console.log('CWP Navigation: Disabled on mobile for UI optimization.');\n            return;\n        }\n        \n        /* Validate dependencies */\n        if (!cwpValidateDependencies()) {\n            return;\n        }\n        \n        const navContainer = document.querySelector(cwpNavConfig.navContainer);\n        const sections = document.querySelectorAll(cwpNavConfig.sectionSelector);\n        \n        /* Clear existing navigation */\n        navContainer.innerHTML = '';\n        \n        /* Build navigation from sections */\n        sections.forEach((section) => {\n            const sectionID = section.getAttribute('id');\n            \n            /* Skip sections without ID */\n            if (!sectionID) {\n                console.warn('CWP Navigation: Section without ID found, skipping.');\n                return;\n            }\n            \n            /* Generate human-readable label */\n            const label = cwpGenerateLabel(sectionID);\n            \n            /* Create navigation link with accessibility attributes */\n            const navItem = document.createElement('li');\n            navItem.setAttribute('data-menuanchor', sectionID);\n            navItem.setAttribute('role', 'menuitem');\n            \n            const navLink = document.createElement('a');\n            navLink.setAttribute('href', `#${sectionID}`);\n            navLink.textContent = label;\n            navLink.setAttribute('aria-label', `Navigate to ${label}`);\n            navLink.setAttribute('role', 'button');\n            \n            navItem.appendChild(navLink);\n            navContainer.appendChild(navItem);\n        });\n        \n        /* Set first navigation link as active */\n        const firstNavItem = navContainer.querySelector('li:first-child');\n        if (firstNavItem) {\n            firstNavItem.classList.add(cwpNavConfig.activeClass);\n        }\n        \n        /* Setup waypoints with improved logic */\n        sections.forEach((section) => {\n            new Waypoint({\n                element: section,\n                handler: function(direction) {\n                    const currentSection = this.element;\n                    const sectionID = currentSection.getAttribute('id');\n                    const navigationLink = navContainer.querySelector(`li[data-menuanchor=\"${sectionID}\"]`);\n                    \n                    /* Remove active class from all navigation links */\n                    navContainer.querySelectorAll('li').forEach((item) => {\n                        item.classList.remove(cwpNavConfig.activeClass);\n                    });\n                    \n                    if (direction === 'down') {\n                        /* Scrolling down - activate current section */\n                        if (navigationLink) {\n                            navigationLink.classList.add(cwpNavConfig.activeClass);\n                        }\n                    } else {\n                        /* Scrolling up - activate previous section */\n                        const allSections = Array.from(document.querySelectorAll(cwpNavConfig.sectionSelector));\n                        const currentIndex = allSections.indexOf(currentSection);\n                        \n                        if (currentIndex > 0) {\n                            const prevSection = allSections[currentIndex - 1];\n                            const prevSectionID = prevSection.getAttribute('id');\n                            const prevNavigationLink = navContainer.querySelector(`li[data-menuanchor=\"${prevSectionID}\"]`);\n                            if (prevNavigationLink) {\n                                prevNavigationLink.classList.add(cwpNavConfig.activeClass);\n                            }\n                        } else {\n                            /* If no previous section, activate first one */\n                            const firstItem = navContainer.querySelector('li:first-child');\n                            if (firstItem) {\n                                firstItem.classList.add(cwpNavConfig.activeClass);\n                            }\n                        }\n                    }\n                },\n                offset: cwpNavConfig.scrollOffset\n            });\n        });\n        \n        /* Add keyboard navigation support */\n        cwpAddKeyboardNavigation(navContainer);\n        \n        console.log('CWP Navigation: Initialized successfully.');\n    };\n\n    /* Keyboard navigation support */\n    const cwpAddKeyboardNavigation = (navContainer) => {\n        const navLinks = navContainer.querySelectorAll('a');\n        \n        navLinks.forEach((link) => {\n            link.addEventListener('keydown', (e) => {\n                const currentLink = e.target;\n                const currentItem = currentLink.parentElement;\n                const allItems = Array.from(navContainer.querySelectorAll('li'));\n                const currentIndex = allItems.indexOf(currentItem);\n                \n                switch(e.which) {\n                    case 38: /* Up arrow */\n                        e.preventDefault();\n                        if (currentIndex > 0) {\n                            const prevLink = allItems[currentIndex - 1].querySelector('a');\n                            if (prevLink) prevLink.focus();\n                        }\n                        break;\n                    case 40: /* Down arrow */\n                        e.preventDefault();\n                        if (currentIndex < allItems.length - 1) {\n                            const nextLink = allItems[currentIndex + 1].querySelector('a');\n                            if (nextLink) nextLink.focus();\n                        }\n                        break;\n                    case 13: /* Enter */\n                    case 32: /* Space */\n                        e.preventDefault();\n                        currentLink.click();\n                        break;\n                }\n            });\n        });\n    };\n\n    /* Handle window resize with debounce */\n    const cwpHandleResize = cwpDebounce(() => {\n        const navContainer = document.querySelector(cwpNavConfig.navContainer);\n        if (!navContainer) return;\n        \n        if (cwpIsMobile()) {\n            /* Clear navigation on mobile */\n            navContainer.innerHTML = '';\n        } else {\n            /* Reinitialize on desktop */\n            cwpInitNavigation();\n        }\n    }, 250);\n\n    /* Initialize on load */\n    cwpInitNavigation();\n\n    /* Handle window resize */\n    window.addEventListener('resize', cwpHandleResize);\n});\n"],
  "mappings": "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",
  "names": []
}
